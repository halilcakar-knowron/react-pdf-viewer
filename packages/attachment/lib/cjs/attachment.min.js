"use strict";var e=require("react");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}require("react-dom");var n=t(e),r=(e=>(e.RightToLeft="RTL",e.LeftToRight="LTR",e))(r||{});const o=n.createContext({currentTheme:"light",direction:"LTR",setCurrentTheme:()=>{}}),a=e=>{const t=[];return Object.keys(e).forEach((n=>{n&&e[n]&&t.push(n)})),t.join(" ")},c="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */var s="rpv_fd7f1e65",i="rpv_77b97e9f";const l=({size:e="4rem",testId:t})=>{const[r,o]=n.useState(!1),l=t?{"data-testid":t}:{},u=(e=>{const t=n.useRef(null),{once:r,threshold:o,onVisibilityChanged:a}=e;return c((()=>{const e=t.current;if(!e)return;const n=new IntersectionObserver((t=>{t.forEach((t=>{const o=t.isIntersecting,c=t.intersectionRatio;a({isVisible:o,ratio:c}),o&&r&&(n.unobserve(e),n.disconnect())}))}),{threshold:o||0});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}),[]),t})({onVisibilityChanged:e=>{o(e.isVisible)}});return n.createElement("div",{...l,className:a({[s]:!0,[i]:r}),ref:u,style:{height:e,width:e}})};const u={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},d=n.createContext({l10n:u,setL10n:()=>{}}),f=n.createContext({currentIndex:0,decreaseNumStacks:()=>{},increaseNumStacks:()=>{},numStacks:0});var m="rpv_33f641c8",p="rpv_19dd1f21",h="rpv_de324b82",v=(e=>(e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM",e))(v||{}),b="rpv_add41145",g="rpv_ee9ba1f7",T="rpv_a6e31245",E="rpv_e52efe2c",C="rpv_c9e661fe",_="rpv_3356ff0c",L="rpv_3231cce2",R="rpv_d8db7bf7",x="rpv_946c45",y="rpv_42ea642c",k="rpv_35de56c9",O="rpv_9f46d261",B="rpv_9e21a037";
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */const N=({customClassName:e,position:t})=>n.createElement("div",{className:a({[b]:!0,[g]:t===v.TopLeft,[T]:t===v.TopCenter,[E]:t===v.TopRight,[C]:t===v.RightTop,[_]:t===v.RightCenter,[L]:t===v.RightBottom,[R]:t===v.BottomLeft,[x]:t===v.BottomCenter,[y]:t===v.BottomRight,[k]:t===v.LeftTop,[O]:t===v.LeftCenter,[B]:t===v.LeftBottom,[`${e}`]:""!==e})});n.forwardRef(((e,t)=>{const{ariaControlsSuffix:s,children:i,closeOnClickOutside:l,position:u,onClose:d}=e,v=n.useRef(null),{direction:b}=n.useContext(o),g=b===r.RightToLeft,[T]=((e,t)=>{const r=n.useContext(f),[o,a]=n.useState(),c=n.useCallback((e=>{a(e)}),[]),s=n.useCallback((e=>{if(!o||r.currentIndex!==r.numStacks)return;const n=e.target;if(n instanceof Element&&n.shadowRoot){const n=e.composedPath();n.length>0&&!o.contains(n[0])&&t()}else o.contains(n)||t()}),[o,r.currentIndex,r.numStacks]);return n.useEffect((()=>{if(!e||!o)return;const t={capture:!0};return document.addEventListener("click",s,t),()=>{document.removeEventListener("click",s,t)}}),[o,r.currentIndex,r.numStacks]),[c]})(l,d),E=(C=[t,T],e=>{C.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))});var C;c((()=>{const e=v.current;if(!e)return;const t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight=`${t}px`)}),[]);const _=`rpv-core__popover-body-inner-${s}`;return n.createElement("div",{"aria-describedby":_,className:a({[m]:!0,[h]:g}),id:`rpv-core__popover-body-${s}`,ref:E,role:"dialog",tabIndex:-1},n.createElement(N,{customClassName:p,position:u}),n.createElement("div",{id:_,ref:v},i))})).displayName="PopoverBody",v.TopLeft,v.TopCenter,v.TopRight,v.RightTop,v.RightCenter,v.RightBottom,v.BottomLeft,v.BottomCenter,v.BottomRight,v.LeftTop,v.LeftCenter,v.LeftBottom;var w="rpv_68737a2a",S="rpv_16369fe0",I="rpv_a5ef4481",P="rpv_4ba7c6f1";n.forwardRef(((e,t)=>{const{ariaControlsSuffix:c,children:s,closeOnEscape:i,position:l,onClose:u}=e,{direction:d}=n.useContext(o),m=d===r.RightToLeft;return(e=>{const t=n.useContext(f),r=n.useCallback((n=>{"Escape"===n.key&&t.currentIndex===t.numStacks&&e()}),[t.currentIndex,t.numStacks]);n.useEffect((()=>(document.addEventListener("keyup",r),()=>{document.removeEventListener("keyup",r)})),[t.currentIndex,t.numStacks])})((()=>{i&&u()})),n.createElement("div",{className:a({[w]:!0,[S]:m}),id:`rpv-core__tooltip-body-${c}`,ref:t,role:"tooltip"},n.createElement(N,{customClassName:I,position:l}),n.createElement("div",{className:P},s))})).displayName="TooltipBody",n.createContext({});
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */
var j=(e=>(e.ExtraSmall="ExtraSmall",e.Small="Small",e.Medium="Medium",e.Large="Large",e.ExtraLarge="ExtraLarge",e))(j||{});n.createContext(j.ExtraSmall);var A="rpv_74ff328a",M="rpv_d9b8b80",D="rpv_74fdfcff";const H=({files:e})=>{const t=n.useRef(null),{l10n:s}=n.useContext(d),{direction:i}=n.useContext(o),l=i===r.RightToLeft,u=n.useRef([]),f=s&&s.attachment?s.attachment.clickToDownload:"Click to download",m=e=>{const n=t.current,r=[].slice.call(n.getElementsByClassName(D));if(0===r.length)return;r.forEach((e=>e.setAttribute("tabindex","-1")));const o=document.activeElement,a=r[Math.min(r.length-1,Math.max(0,e(r,o)))];a.setAttribute("tabindex","0"),a.focus()};return c((()=>{const e=t.current;if(!e)return;const n=[].slice.call(e.getElementsByClassName(D));if(u.current=n,n.length>0){const e=n[0];e.focus(),e.setAttribute("tabindex","0")}}),[]),n.createElement("div",{"data-testid":"attachment__list",className:a({[A]:!0,[M]:l}),ref:t,tabIndex:-1,onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),m(((e,t)=>e.indexOf(t)+1));break;case"ArrowUp":e.preventDefault(),m(((e,t)=>e.indexOf(t)-1));break;case"End":e.preventDefault(),m(((e,t)=>e.length-1));break;case"Home":e.preventDefault(),m(((e,t)=>0))}}},e.map((e=>n.createElement("button",{className:D,key:e.fileName,tabIndex:-1,title:f,type:"button",onClick:()=>((e,t)=>{const n="string"==typeof t?"":URL.createObjectURL(new Blob([t],{type:""})),r=document.createElement("a");r.style.display="none",r.href=n||e,r.setAttribute("download",(e=>{const t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e})(e)),document.body.appendChild(r),r.click(),document.body.removeChild(r),n&&URL.revokeObjectURL(n)})(e.fileName,e.data)},e.fileName))))};var F="rpv_a9033fd6",G="rpv_3122eab4";const U=({doc:e})=>{const{l10n:t}=n.useContext(d),{direction:c}=n.useContext(o),s=c===r.RightToLeft,i=t&&t.attachment?t.attachment.noAttachment:"There is no attachment",[u,f]=n.useState({files:[],isLoaded:!1});return n.useEffect((()=>{e.getAttachments().then((e=>{const t=e?Object.keys(e).map((t=>({data:e[t].content,fileName:e[t].filename}))):[];f({files:t,isLoaded:!0})}))}),[e]),u.isLoaded?0===u.files.length?n.createElement("div",{"data-testid":"attachment__empty",className:a({[F]:!0,[G]:s})},i):n.createElement(H,{files:u.files}):n.createElement(l,null)};var V="rpv_fdd432ce";const $=({store:e})=>{const[t,r]=n.useState(e.get("doc")),o=e=>{r(e)};return n.useEffect((()=>(e.subscribe("doc",o),()=>{e.unsubscribe("doc",o)})),[]),t?n.createElement(U,{doc:t}):n.createElement("div",{className:V},n.createElement(l,null))};exports.attachmentPlugin=()=>{const e=n.useMemo((()=>
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */
function(e){let t=e;const n={},r=(e,r)=>{t={...t,[e]:r},(n[e]||[]).forEach((n=>n(t[e])))},o=e=>t[e];return{subscribe(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe(e,t){n[e]=(n[e]||[]).filter((e=>e!==t))},update(e,t){r(e,t)},updateCurrentValue(e,t){const n=o(e);void 0!==n&&r(e,t(n))},get:e=>o(e)}}
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */({})),[]);return{onDocumentLoad:t=>{e.update("doc",t.doc)},Attachments:()=>n.createElement($,{store:e})}};
