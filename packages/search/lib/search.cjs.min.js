"use strict";var e=require("react"),t=require("react-dom");function r(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(e),o=r(t),a="rpv_62094e2d",s="rpv_98e1a8fd",c=(e=>(e.RightToLeft="RTL",e.LeftToRight="LTR",e))(c||{});const i=n.createContext({currentTheme:"light",direction:"LTR",setCurrentTheme:()=>{}}),l=e=>{const t=[];return Object.keys(e).forEach((r=>{r&&e[r]&&t.push(r)})),t.join(" ")},u=({children:e,testId:t,onClick:r})=>{const{direction:o}=n.useContext(i),u=o===c.RightToLeft,d=t?{"data-testid":t}:{};return n.createElement("button",{className:l({[a]:!0,[s]:u}),type:"button",onClick:r,...d},e)},d="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */var h="rpv_2a5a054d",p="rpv_81d01ddd";const f=({children:e,ignoreDirection:t=!1,size:r=24})=>{const{direction:o}=n.useContext(i),a=!t&&o===c.RightToLeft,s=`${r||24}px`;return n.createElement("svg",{"aria-hidden":"true",className:l({[h]:!0,[p]:a}),focusable:"false",height:s,viewBox:"0 0 24 24",width:s},e)};var m="rpv_799dde0c",g="rpv_ec15b0a8",E="rpv_aa3418be",w="rpv_22f568c7";const v=({ariaLabel:e="",ariaKeyShortcuts:t="",children:r,isDisabled:o=!1,isSelected:a=!1,testId:s,onClick:u})=>{const{direction:d}=n.useContext(i),h=d===c.RightToLeft,p=s?{"data-testid":s}:{};return n.createElement("button",{"aria-label":e,...t&&{"aria-keyshortcuts":t},...o&&{"aria-disabled":!0},className:l({[m]:!0,[g]:o,[E]:h,[w]:a}),type:"button",onClick:u,...p},r)};var b="rpv_fd7f1e65",x="rpv_77b97e9f";const y=({size:e="4rem",testId:t})=>{const[r,o]=n.useState(!1),a=t?{"data-testid":t}:{},s=(e=>{const t=n.useRef(null),{once:r,threshold:o,onVisibilityChanged:a}=e;return d((()=>{const e=t.current;if(!e)return;const n=new IntersectionObserver((t=>{t.forEach((t=>{const o=t.isIntersecting,s=t.intersectionRatio;a({isVisible:o,ratio:s}),o&&r&&(n.unobserve(e),n.disconnect())}))}),{threshold:o||0});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}),[]),t})({onVisibilityChanged:e=>{o(e.isVisible)}});return n.createElement("div",{...a,className:l({[b]:!0,[x]:r}),ref:s,style:{height:e,width:e}})};var C="rpv_5acb480f",k="rpv_ce17cbdb";const T=({ariaLabel:e="",autoFocus:t=!1,placeholder:r="",testId:o,type:a="text",value:s="",onChange:u,onKeyDown:h=()=>{}})=>{const{direction:p}=n.useContext(i),f=n.useRef(null),m=p===c.RightToLeft,g={ref:f,"data-testid":"","aria-label":e,className:l({[C]:!0,[k]:m}),placeholder:r,value:s,onChange:e=>u(e.target.value),onKeyDown:h};return o&&(g["data-testid"]=o),d((()=>{if(t){const e=f.current;if(e){const t=window.scrollX,r=window.scrollY;e.focus(),window.scrollTo(t,r)}}}),[]),"text"===a?n.createElement("input",{type:"text",...g}):n.createElement("input",{type:"password",...g})};const R={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},S=n.createContext({l10n:R,setL10n:()=>{}});
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */
var _=(e=>(e.Close="Close",e.Open="Open",e.Toggle="Toggle",e))(_||{});const I=e=>{const[t,r]=n.useState(e);return{opened:t,toggle:e=>{switch(e){case _.Close:r(!1);break;case _.Open:r(!0);break;case _.Toggle:default:r((e=>!e))}}}};
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */let L=0;const P=()=>L++
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */,M=n.createContext({currentIndex:0,decreaseNumStacks:()=>{},increaseNumStacks:()=>{},numStacks:0}),O=e=>{const t=n.useContext(M),r=n.useCallback((r=>{"Escape"===r.key&&t.currentIndex===t.numStacks&&e()}),[t.currentIndex,t.numStacks]);n.useEffect((()=>(document.addEventListener("keyup",r),()=>{document.removeEventListener("keyup",r)})),[t.currentIndex,t.numStacks])},N=({children:e})=>{const{currentIndex:t,increaseNumStacks:r,decreaseNumStacks:a,numStacks:s}=n.useContext(M);return n.useEffect((()=>(r(),()=>{a()})),[]),o.createPortal(n.createElement(M.Provider,{value:{currentIndex:t+1,decreaseNumStacks:a,increaseNumStacks:r,numStacks:s}},e),document.body)};var B="rpv_33f641c8",D="rpv_19dd1f21",j="rpv_de324b82",K=(e=>(e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM",e))(K||{}),$="rpv_add41145",F="rpv_ee9ba1f7",W="rpv_a6e31245",H="rpv_e52efe2c",A="rpv_c9e661fe",z="rpv_3356ff0c",q="rpv_3231cce2",V="rpv_d8db7bf7",G="rpv_946c45",X="rpv_42ea642c",Y="rpv_35de56c9",J="rpv_9f46d261",Q="rpv_9e21a037";
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */const U=({customClassName:e,position:t})=>n.createElement("div",{className:l({[$]:!0,[F]:t===K.TopLeft,[W]:t===K.TopCenter,[H]:t===K.TopRight,[A]:t===K.RightTop,[z]:t===K.RightCenter,[q]:t===K.RightBottom,[V]:t===K.BottomLeft,[G]:t===K.BottomCenter,[X]:t===K.BottomRight,[Y]:t===K.LeftTop,[J]:t===K.LeftCenter,[Q]:t===K.LeftBottom,[`${e}`]:""!==e})}),Z=n.forwardRef(((e,t)=>{const{ariaControlsSuffix:r,children:o,closeOnClickOutside:a,position:s,onClose:u}=e,h=n.useRef(null),{direction:p}=n.useContext(i),f=p===c.RightToLeft,[m]=((e,t)=>{const r=n.useContext(M),[o,a]=n.useState(),s=n.useCallback((e=>{a(e)}),[]),c=n.useCallback((e=>{if(!o||r.currentIndex!==r.numStacks)return;const n=e.target;if(n instanceof Element&&n.shadowRoot){const r=e.composedPath();r.length>0&&!o.contains(r[0])&&t()}else o.contains(n)||t()}),[o,r.currentIndex,r.numStacks]);return n.useEffect((()=>{if(!e||!o)return;const t={capture:!0};return document.addEventListener("click",c,t),()=>{document.removeEventListener("click",c,t)}}),[o,r.currentIndex,r.numStacks]),[s]})(a,u),g=(E=[t,m],e=>{E.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))});var E;d((()=>{const e=h.current;if(!e)return;const t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight=`${t}px`)}),[]);const w=`rpv-core__popover-body-inner-${r}`;return n.createElement("div",{"aria-describedby":w,className:l({[B]:!0,[j]:f}),id:`rpv-core__popover-body-${r}`,ref:g,role:"dialog",tabIndex:-1},n.createElement(U,{customClassName:D,position:s}),n.createElement("div",{id:w,ref:h},o))}));Z.displayName="PopoverBody";var ee="rpv_9a8b66e";const te=({children:e,closeOnEscape:t,onClose:r})=>{const o=n.useRef(null);return O((()=>{t&&r()})),n.createElement("div",{className:ee,ref:o},e)},re=(e,t,r)=>Math.max(e,Math.min(r,t)),ne=[K.TopLeft,K.TopCenter,K.TopRight,K.RightTop,K.RightCenter,K.RightBottom,K.BottomLeft,K.BottomCenter,K.BottomRight,K.LeftTop,K.LeftCenter,K.LeftBottom],oe=(e,t)=>t.right>=e.left&&t.left<=e.right&&t.top<=e.bottom&&t.bottom>=e.top,ae=(e,t)=>{const r=Math.max(e.left,t.left),n=Math.max(e.top,t.top),o=Math.min(e.right,t.right),a=Math.min(e.bottom,t.bottom);return new DOMRect(r,n,o-r,a-n)},se=e=>e.width*e.height,ce=(e,t)=>Math.abs(e.left-t.left)+Math.abs(e.top-t.top),ie=(e,t,r,n)=>{let o=0,a=0;switch(r){case K.TopLeft:o=e.top-t.height-n,a=e.left;break;case K.TopCenter:o=e.top-t.height-n,a=e.left+e.width/2-t.width/2;break;case K.TopRight:o=e.top-t.height-n,a=e.left+e.width-t.width;break;case K.RightTop:o=e.top,a=e.left+e.width+n;break;case K.RightCenter:o=e.top+e.height/2-t.height/2,a=e.left+e.width+n;break;case K.RightBottom:o=e.top+e.height-t.height,a=e.left+e.width+n;break;case K.BottomLeft:o=e.top+e.height+n,a=e.left;break;case K.BottomCenter:o=e.top+e.height+n,a=e.left+e.width/2-t.width/2;break;case K.BottomRight:o=e.top+e.height+n,a=e.left+e.width-t.width;break;case K.LeftTop:o=e.top,a=e.left-t.width-n;break;case K.LeftCenter:o=e.top+e.height/2-t.height/2,a=e.left-t.width-n;break;case K.LeftBottom:o=e.top+e.height-t.height,a=e.left-t.width-n}return{top:o,left:a}},le=({children:e,offset:t=0,position:r,referenceRef:o})=>{const a=new DOMRect,[s,c]=n.useState(),[i,l]=n.useState(r),u=n.useCallback((e=>{c(e)}),[]),d=n.useRef([]),[h]=((e,t=!1,r)=>{const o=n.useRef(e),a=n.useRef(-1);o.current=e;const s=n.useCallback(((...r)=>{cancelAnimationFrame(a.current),a.current=requestAnimationFrame((()=>{e(...r),t&&s(...r)}))}),[...r,t]),c=n.useCallback((()=>{cancelAnimationFrame(a.current)}),[]);return n.useEffect((()=>()=>c()),[]),[s]})((()=>{if(!s||!o.current)return;const e=o.current.getBoundingClientRect(),n=s.getBoundingClientRect(),c=new DOMRect(0,0,window.innerWidth,window.innerHeight),i=[e,n,c];if(i.some(((e,t)=>{return r=e,n=d.current[t]||a,!["top","left","width","height"].every((e=>r[e]===n[e]));var r,n}))){d.current=i;const o=((e,t,r,n,o)=>{if(!oe(e,r))return{position:n};const a=ie(e,t,n,o),s=ne.map((r=>({offset:ie(e,t,r,o),position:r}))).filter((({offset:e})=>{const n=new DOMRect(e.left,e.top,t.width,t.height);return oe(n,r)})).sort(((e,n)=>{const o=new DOMRect(n.offset.left,n.offset.top,t.width,t.height),s=new DOMRect(e.offset.left,e.offset.top,t.width,t.height);return se(ae(o,r))-se(ae(s,r))||ce(e.offset,a)-ce(n.offset,a)}));if(0===s.length)return{position:n};const c=s[0],i=new DOMRect(c.offset.left,c.offset.top,t.width,t.height),l=new DOMRect(Math.round(re(i.left,r.left,r.right-i.width)),Math.round(re(i.top,r.top,r.bottom-i.height)),i.width,i.height);return{position:c.position,rect:l}})(e,n,c,r,t);o.rect&&(s.style.transform=`translate(${o.rect.left}px, ${o.rect.top}px)`,l(o.position))}}),!0,[s]);return n.useEffect((()=>{s&&h()}),[s]),n.createElement(N,null,e({position:i,ref:u}))},ue=({ariaHasPopup:e="dialog",ariaControlsSuffix:t,closeOnClickOutside:r,closeOnEscape:o,content:a,lockScroll:s=!0,position:c,target:i})=>{const{opened:l,toggle:u}=I(!1),d=n.useRef(null),h=n.useMemo((()=>t||`${P()}`),[]);return n.createElement(n.Fragment,null,n.createElement("div",{ref:d,"aria-expanded":l?"true":"false","aria-haspopup":e,"aria-controls":`rpv-core__popver-body-${h}`},i(u,l)),l&&n.createElement(le,{offset:8,position:c,referenceRef:d},(({position:e,ref:t})=>{const c=n.createElement(Z,{ariaControlsSuffix:h,closeOnClickOutside:r,position:e,ref:t,onClose:u},a(u));return s?n.createElement(te,{closeOnEscape:o,onClose:u},c):c})))};var de="rpv_68737a2a",he="rpv_16369fe0",pe="rpv_a5ef4481",fe="rpv_4ba7c6f1";const me=n.forwardRef(((e,t)=>{const{ariaControlsSuffix:r,children:o,closeOnEscape:a,position:s,onClose:u}=e,{direction:d}=n.useContext(i),h=d===c.RightToLeft;return O((()=>{a&&u()})),n.createElement("div",{className:l({[de]:!0,[he]:h}),id:`rpv-core__tooltip-body-${r}`,ref:t,role:"tooltip"},n.createElement(U,{customClassName:pe,position:s}),n.createElement("div",{className:fe},o))}));me.displayName="TooltipBody";const ge=({ariaControlsSuffix:e,content:t,position:r,target:o})=>{const{opened:a,toggle:s}=I(!1),c=n.useRef(null),i=n.useRef(),l=n.useMemo((()=>e||`${P()}`),[]),u=()=>{s(_.Open)},d=()=>{s(_.Close)};return n.createElement(n.Fragment,null,n.createElement("div",{ref:c,"aria-describedby":`rpv-core__tooltip-body-${l}`,onBlur:e=>{e.relatedTarget instanceof HTMLElement&&e.currentTarget.parentElement&&e.currentTarget.parentElement.contains(e.relatedTarget)?i.current&&(i.current.style.display="none"):d()},onFocus:u,onMouseEnter:u,onMouseLeave:d},o),a&&n.createElement(le,{offset:8,position:r,referenceRef:c},(({position:e,ref:r})=>n.createElement(me,{ariaControlsSuffix:l,closeOnEscape:!0,position:e,ref:r,onClose:d},t()))))};n.createContext({});
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */
var Ee=(e=>(e.ExtraSmall="ExtraSmall",e.Small="Small",e.Medium="Medium",e.Large="Large",e.ExtraLarge="ExtraLarge",e))(Ee||{});n.createContext(Ee.ExtraSmall);
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */
var we=(e=>(e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender",e))(we||{});
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */const ve=()=>"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),be=new Map,xe=new Map,ye=(e,t)=>{if(!e)return Promise.reject("The document is not loaded yet");const r=`${e.loadingTask.docId}___${t}`,n=xe.get(r);return n?Promise.resolve(n):new Promise(((n,o)=>{e.getPage(t+1).then((o=>{xe.set(r,o),o.ref&&((e,t,r)=>{be.set(((e,t)=>`${e.loadingTask.docId}___${t.num}R${0===t.gen?"":t.gen}`)(e,t),r)})(e,o.ref,t),n(o)}))}))},Ce=()=>n.createElement(f,{size:16},n.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"})),ke=()=>n.createElement(f,{size:16},n.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"})),Te=()=>n.createElement(f,{ignoreDirection:!0,size:16},n.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n            M23.5,23.5\n            l-5.929-5.929"}))
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */,Re=e=>({left:`${e.left}%`,top:`${e.top}%`,height:`${e.height}%`,width:`${e.width}%`});var Se="rpv_5852b0f8",_e="rpv_a802aadb",Ie="rpv_bd8fce1e";const Le=({index:e,area:t,onHighlightKeyword:r})=>{const o=n.useRef(null);return d((()=>{const e=o.current;r&&e&&r({highlightEle:e,keyword:t.keyword})}),[]),n.createElement("div",{className:_e,"data-index":e,ref:o,style:Re(t),title:t.keywordStr.trim()})},Pe={keyword:"",regExp:new RegExp(" "),wholeWords:!1},Me=e=>{const t=e.parentNode;t&&t.removeChild(e)},Oe=e=>{const t=e.parentNode;if(!t)return;const r=document.createRange();r.selectNodeContents(e),((e,t)=>{Me(e);const r=t.parentNode;r&&r.insertBefore(e,t),Me(t)})(r.extractContents(),e),t.normalize()},Ne=(e,t)=>e.top<t.top?-1:e.top>t.top?1:e.left<t.left?-1:e.left>t.left?1:0,Be=({numPages:e,pageIndex:t,renderHighlights:r,store:o,onHighlightKeyword:a})=>{const s=n.useRef(null),c=n.useCallback((e=>n.createElement(n.Fragment,null,e.highlightAreas.map(((e,t)=>n.createElement(Le,{index:t,key:t,area:e,onHighlightKeyword:a}))))),[]),i=r||c,[l,u]=n.useState(o.get("matchPosition")),[d,h]=n.useState(o.get("keyword")||[Pe]),[p,f]=n.useState({pageIndex:t,scale:1,status:we.PreRender}),m=n.useRef(null),g=n.useRef([]),[E,w]=n.useState([]),v=()=>!0,b=n.useCallback((()=>o.get("targetPageFilter")||v),[o.get("targetPageFilter")]),x=r=>{const n=g.current;if(0===n.length)return[];const o=[],a=[].slice.call(r.querySelectorAll('[data-text="true"]')),s=n.map((e=>e.char)).join("");return d.forEach((c=>{const i=c.keyword;if(!i.trim())return;const l=-1===c.regExp.flags.indexOf("g")?new RegExp(c.regExp,`${c.regExp.flags}g`):c.regExp;let u;const d=[];for(;null!==(u=l.exec(s));)d.push({keyword:l,startIndex:u.index,endIndex:l.lastIndex});d.map((e=>({keyword:e.keyword,indexes:n.slice(e.startIndex,e.endIndex)}))).forEach((n=>{const s=n.indexes.reduce(((e,t)=>(e[t.spanIndex]=(e[t.spanIndex]||[]).concat([t]),e)),{});Object.values(s).forEach((s=>{if(1!==s.length||""!==s[0].char.trim()){const l=c.wholeWords?s.slice(1,-1):s,u=((r,n,o,a,s)=>{const c=document.createRange(),i=a.firstChild;if(!i||i.nodeType!==Node.TEXT_NODE)return null;const l=i.textContent.length,u=s[0].charIndexInSpan,d=1===s.length?u:s[s.length-1].charIndexInSpan;if(u>l||d+1>l)return null;c.setStart(i,u),c.setEnd(i,d+1);const h=document.createElement("span");c.surroundContents(h);const p=h.getBoundingClientRect(),f=o.getBoundingClientRect(),m=f.height,g=f.width,E=100*(p.left-f.left)/g,w=100*(p.top-f.top)/m,v=100*p.height/m,b=100*p.width/g;return Oe(h),{keyword:n,keywordStr:r,numPages:e,pageIndex:t,left:E,top:w,height:v,width:b,pageHeight:m,pageWidth:g}})(i,n.keyword,r,a[l[0].spanIndex],l);u&&o.push(u)}}))}))})),o.sort(Ne)},y=e=>{e&&e.length>0&&h(e)},C=e=>u(e),k=e=>{if(!e.has(t))return;const r=e.get(t);r&&f({ele:r.ele,pageIndex:t,scale:r.scale,status:r.status})},T=()=>0===d.length||1===d.length&&""===d[0].keyword.trim();return n.useEffect((()=>{const e=p.ele;if(T()||p.status!==we.DidRender||g.current.length||!e)return;const t=[].slice.call(e.querySelectorAll('[data-text="true"]')).map((e=>e.textContent)).reduce(((e,t,r)=>e.concat(t.split("").map(((e,t)=>({char:e,charIndexInSpan:t,spanIndex:r}))))),[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);g.current=t}),[d,p.status]),n.useEffect((()=>{if(T()||!p.ele||p.status!==we.DidRender||!b()({pageIndex:t,numPages:e}))return;const r=p.ele,n=x(r);w(n)}),[d,l,p.status,g.current]),n.useEffect((()=>{T()&&p.ele&&p.status===we.DidRender&&w([])}),[d,p.status]),n.useEffect((()=>{if(0===E.length)return;const e=s.current;if(l.pageIndex!==t||!e||p.status!==we.DidRender)return;const r=e.querySelector(`.${_e}[data-index="${l.matchIndex}"]`);if(!r)return;const{left:n,top:a}=((e,t)=>{let r=e.offsetTop,n=e.offsetLeft,o=e.parentElement;for(;o&&o!==t;)r+=o.offsetTop,n+=o.offsetLeft,o=o.parentElement;return{left:n,top:r}})(r,e),c=o.get("jumpToDestination");c&&(c({pageIndex:t,bottomOffset:(e.getBoundingClientRect().height-a)/p.scale,leftOffset:n/p.scale,scaleTo:p.scale}),m.current&&m.current.classList.remove(Ie),m.current=r,r.classList.add(Ie))}),[E,l]),n.useEffect((()=>(o.subscribe("keyword",y),o.subscribe("matchPosition",C),o.subscribe("renderStatus",k),()=>{o.unsubscribe("keyword",y),o.unsubscribe("matchPosition",C),o.unsubscribe("renderStatus",k)})),[]),n.createElement("div",{className:Se,"data-testid":`search__highlights-${t}`,ref:s},i({getCssProperties:Re,highlightAreas:E}))},De=e=>{const t=e.wholeWords?` ${e.keyword} `:e.keyword,r=e.matchCase?"g":"gi";return{keyword:e.keyword,regExp:new RegExp((n=t,n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),r),wholeWords:e.wholeWords||!1};var n},je=(e,t,r)=>e instanceof RegExp?{keyword:e.source,regExp:e,wholeWords:r||!1}:"string"==typeof e?""===e?Pe:De({keyword:e,matchCase:t||!1,wholeWords:r||!1}):(void 0!==t&&(e.matchCase=t),void 0!==r&&(e.wholeWords=r),De(e)),Ke=e=>{const t=e.get("initialKeyword"),r=n.useMemo((()=>{if(t&&1===t.length){const e=je(t[0]);return{matchCase:-1===e.regExp.flags.indexOf("i"),wholeWords:e.wholeWords}}return{matchCase:!1,wholeWords:!1}}),[]),o=(e=>{const t=n.useRef(e.get("doc")),r=e=>{t.current=e};return n.useEffect((()=>(e.subscribe("doc",r),()=>{e.unsubscribe("doc",r)})),[]),t})(e),[a,s]=n.useState(t),[c,i]=n.useState([]),[l,u]=n.useState(0),[d,h]=n.useState(r.matchCase),p=n.useRef([]),[f,m]=n.useState(r.wholeWords),g=()=>!0,E=n.useCallback((()=>e.get("targetPageFilter")||g),[e.get("targetPageFilter")]),w=e=>{const t=c.length;if(0===a.length||0===t)return null;const r=e===t+1?1:Math.max(1,Math.min(t,e));return u(r),b(c[r-1])},v=e=>s(""===e?[]:[e]),b=t=>{const r=e.get("jumpToPage");return r&&r(t.pageIndex),e.update("matchPosition",{matchIndex:t.matchIndex,pageIndex:t.pageIndex}),t},x=(t,r,n)=>{const a=o.current;if(!a)return Promise.resolve([]);const s=a.numPages,c=t.map((e=>je(e,r,n)));return e.update("keyword",c),u(0),i([]),new Promise(((e,t)=>{const r=0===p.current.length?(()=>{const e=o.current;if(!e)return Promise.resolve([]);const t=Array(e.numPages).fill(0).map(((t,r)=>ye(e,r).then((e=>e.getTextContent())).then((e=>{const t=e.items.map((e=>e.str||"")).join("");return Promise.resolve({pageContent:t,pageIndex:r})}))));return Promise.all(t).then((e=>(e.sort(((e,t)=>e.pageIndex-t.pageIndex)),Promise.resolve(e.map((e=>e.pageContent))))))})().then((e=>(p.current=e,Promise.resolve(e)))):Promise.resolve(p.current);r.then((t=>{const r=[];t.forEach(((e,t)=>{E()({pageIndex:t,numPages:s})&&c.forEach((n=>{let o,a=0;for(;null!==(o=n.regExp.exec(e));)r.push({keyword:n.regExp,matchIndex:a,pageIndex:t,pageText:e,startIndex:o.index,endIndex:n.regExp.lastIndex}),a++}))})),i(r),r.length>0&&(u(1),b(r[0])),e(r)}))}))};return n.useEffect((()=>{p.current=[]}),[o.current]),{clearKeyword:()=>{e.update("keyword",[Pe]),v(""),u(0),i([]),h(!1),m(!1)},changeMatchCase:e=>{h(e),a.length>0&&x(a,e,f)},changeWholeWords:e=>{m(e),a.length>0&&x(a,d,e)},currentMatch:l,jumpToMatch:w,jumpToNextMatch:()=>w(l+1),jumpToPreviousMatch:()=>w(l-1),keywords:a,matchCase:d,numberOfMatches:c.length,wholeWords:f,search:()=>x(a,d,f),searchFor:x,setKeywords:s,keyword:0===a.length?"":(y=a[0],y instanceof RegExp?y.source:"string"==typeof y?y:y.keyword),setKeyword:v,setTargetPages:t=>{e.update("targetPageFilter",t)}};var y},$e=({children:e,store:t})=>{const r=Ke(t),[o,a]=n.useState(!1),s=e=>a(!0);return n.useEffect((()=>(t.subscribe("doc",s),()=>{t.unsubscribe("doc",s)})),[]),e({...r,isDocumentLoaded:o})},Fe=({containerRef:e,store:t})=>{const[r,o]=n.useState(e.current);n.useEffect((()=>{e.current!==r&&o(e.current)}),[]);const a=n.useRef(!1),s=()=>{a.current=!0},c=()=>{a.current=!1},i=n.useCallback((e=>{if(!r)return;if(e.shiftKey||e.altKey||"f"!==e.key)return;(ve()?e.metaKey&&!e.ctrlKey:e.ctrlKey)&&(a.current||document.activeElement&&r.contains(document.activeElement))&&(e.preventDefault(),t.update("areShortcutsPressed",!0))}),[r]);return n.useEffect((()=>{if(r)return document.addEventListener("keydown",i),r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",c),()=>{document.removeEventListener("keydown",i),r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",c)}}),[r]),n.createElement(n.Fragment,null)};
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */var We="rpv_be1278b5",He="rpv_119fcec2",Ae="rpv_ea7700c",ze="rpv_4ee9303e",qe="rpv_4ee946be",Ve="rpv_1a0edd04",Ge="rpv_380e43b3",Xe="rpv_1e5b198b",Ye="rpv_e0f04b3e",Je="rpv_2013f20d",Qe="rpv_2014088d";const Ue=({store:e,onToggle:t})=>{const{l10n:r}=n.useContext(S),{direction:o}=n.useContext(i),[a,s]=n.useState(!1),[d,h]=n.useState(!1),p=o===c.RightToLeft,{clearKeyword:f,changeMatchCase:m,changeWholeWords:g,currentMatch:E,jumpToNextMatch:w,jumpToPreviousMatch:b,keyword:x,matchCase:C,numberOfMatches:k,wholeWords:R,search:_,setKeyword:I}=Ke(e),L=e=>{s(!0),_().then((t=>{s(!1),h(!0),e&&e()}))};n.useEffect((()=>{const t=e.get("initialKeyword");t&&1===t.length&&x&&L((()=>{e.update("initialKeyword",[])}))}),[]);const P=r&&r.search?r.search.enterToSearch:"Enter to search",M=r&&r.search?r.search.previousMatch:"Previous match",O=r&&r.search?r.search.nextMatch:"Next match",N=r&&r.search?r.search.close:"Close";return n.createElement("div",{className:We},n.createElement("div",{className:He},n.createElement(T,{ariaLabel:P,autoFocus:!0,placeholder:P,type:"text",value:x,onChange:e=>{h(!1),I(e)},onKeyDown:e=>{"Enter"===e.key&&x&&(d?w():L())}}),n.createElement("div",{className:l({[Ae]:!0,[ze]:!p,[qe]:p})},a&&n.createElement(y,{testId:"search__popover-searching",size:"1rem"}),!a&&n.createElement("span",{"data-testid":"search__popover-num-matches"},E,"/",k))),n.createElement("label",{className:Ve},n.createElement("input",{className:Ge,"data-testid":"search__popover-match-case",checked:C,type:"checkbox",onChange:e=>{h(!1),m(e.target.checked)}})," ",r&&r.search?r.search.matchCase:"Match case"),n.createElement("label",{className:Ve},n.createElement("input",{className:Ge,checked:R,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:e=>{h(!1),g(e.target.checked)}})," ",r&&r.search?r.search.wholeWords:"Whole words"),n.createElement("div",{className:Xe},n.createElement("div",{className:Ye},n.createElement(ge,{ariaControlsSuffix:"search-previous-match",position:p?K.BottomRight:K.BottomCenter,target:n.createElement(v,{ariaLabel:M,isDisabled:E<=1,onClick:b},n.createElement(ke,null)),content:()=>M})),n.createElement("div",{className:Ye},n.createElement(ge,{ariaControlsSuffix:"search-next-match",position:K.BottomCenter,target:n.createElement(v,{ariaLabel:O,isDisabled:E>k-1,onClick:w},n.createElement(Ce,null)),content:()=>O})),n.createElement("div",{className:l({[Je]:!p,[Qe]:p})},n.createElement(u,{onClick:()=>{t(),f()}},N))))},Ze=({children:e,onClick:t})=>{const{l10n:r}=n.useContext(S),o=r&&r.search?r.search.search:"Search";return e({icon:n.createElement(Te,null),label:o,onClick:t})},et=({enableShortcuts:e,store:t,onClick:r})=>{const o=e?ve()?"Meta+F":"Ctrl+F":"",a=e=>{e&&r()};return n.useEffect((()=>(t.subscribe("areShortcutsPressed",a),()=>{t.unsubscribe("areShortcutsPressed",a)})),[]),n.createElement(Ze,{onClick:r},(e=>n.createElement(ge,{ariaControlsSuffix:"search-popover",position:K.BottomCenter,target:n.createElement(v,{ariaKeyShortcuts:o,ariaLabel:e.label,testId:"search__popover-button",onClick:r},e.icon),content:()=>e.label})))},tt=({children:e,enableShortcuts:t,store:r})=>{const o=e||(e=>n.createElement(et,{enableShortcuts:t,store:r,...e}));return n.createElement(ue,{ariaControlsSuffix:"search",lockScroll:!1,position:K.BottomCenter,target:e=>o({onClick:e}),content:e=>n.createElement(Ue,{store:r,onToggle:e}),closeOnClickOutside:!1,closeOnEscape:!0})},rt=e=>Array.isArray(e)?e.map((e=>je(e))):e?[je(e)]:[];exports.NextIcon=Ce,exports.PreviousIcon=ke,exports.SearchIcon=Te,exports.searchPlugin=e=>{const t=n.useMemo((()=>Object.assign({},{enableShortcuts:!0,onHighlightKeyword:()=>{}},e)),[]),r=n.useMemo((()=>
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */
function(e){let t=e;const r={},n=(e,n)=>{t={...t,[e]:n},(r[e]||[]).forEach((r=>r(t[e])))},o=e=>t[e];return{subscribe(e,t){r[e]=(r[e]||[]).concat(t)},unsubscribe(e,t){r[e]=(r[e]||[]).filter((e=>e!==t))},update(e,t){n(e,t)},updateCurrentValue(e,t){const r=o(e);void 0!==r&&n(e,t(r))},get:e=>o(e)}}({initialKeyword:e&&e.keyword?Array.isArray(e.keyword)?e.keyword:[e.keyword]:[],keyword:e&&e.keyword?rt(e.keyword):[Pe],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})),[]),{clearKeyword:o,jumpToMatch:a,jumpToNextMatch:s,jumpToPreviousMatch:c,searchFor:i,setKeywords:l,setTargetPages:u}=Ke(r),d=e=>n.createElement(tt,{enableShortcuts:t.enableShortcuts,...e,store:r});return{install:t=>{const n=e&&e.keyword?Array.isArray(e.keyword)?e.keyword:[e.keyword]:[],o=e&&e.keyword?rt(e.keyword):[Pe];r.update("initialKeyword",n),r.update("jumpToDestination",t.jumpToDestination),r.update("jumpToPage",t.jumpToPage),r.update("keyword",o)},renderPageLayer:o=>n.createElement(Be,{key:o.pageIndex,numPages:o.doc.numPages,pageIndex:o.pageIndex,renderHighlights:e?.renderHighlights,store:r,onHighlightKeyword:t.onHighlightKeyword}),renderViewer:e=>{const o=e.slot;return o.subSlot&&(o.subSlot.children=n.createElement(n.Fragment,null,t.enableShortcuts&&n.createElement(Fe,{containerRef:e.containerRef,store:r}),o.subSlot.children)),o},uninstall:e=>{const t=r.get("renderStatus");t&&t.clear()},onDocumentLoad:e=>{r.update("doc",e.doc)},onTextLayerRender:e=>{let t=r.get("renderStatus");t&&(t=t.set(e.pageIndex,e),r.update("renderStatus",t))},Search:e=>n.createElement($e,{...e,store:r}),ShowSearchPopover:d,ShowSearchPopoverButton:()=>n.createElement(d,null,(e=>n.createElement(et,{enableShortcuts:t.enableShortcuts,store:r,...e}))),clearHighlights:()=>{o()},highlight:e=>{const t=Array.isArray(e)?e:[e];return l(t),i(t)},jumpToMatch:a,jumpToNextMatch:s,jumpToPreviousMatch:c,setTargetPages:u}};
